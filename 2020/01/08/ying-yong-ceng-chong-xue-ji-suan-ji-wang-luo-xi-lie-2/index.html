<!DOCTYPE HTML>
<html lang="zh-CN">


<head>
    <meta charset="utf-8">
    <meta name="keywords" content="应用层 - 重学计算机网络系列(2), 你喜欢吃青椒么">
    <meta name="description" content="
前言
这是关于计算机网络的一系列专题，后续会不断更新。
学习资料来源于 《计算机网络》(第七版) 和《图解HTTP》。
本篇文章主要分享应用层下面的几个协议：DNS域名解析;FTP文件传输协议;DHCP动态主机配置协议;电子邮件的SMTP">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <meta name="renderer" content="webkit|ie-stand|ie-comp">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="format-detection" content="telephone=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <title>应用层 - 重学计算机网络系列(2) | 你喜欢吃青椒么</title>
    <link rel="icon" type="image/png" href="/favicon.png">

    <link rel="stylesheet" type="text/css" href="/libs/awesome/css/all.css">
    <link rel="stylesheet" type="text/css" href="/libs/materialize/materialize.min.css">
    <link rel="stylesheet" type="text/css" href="/libs/aos/aos.css">
    <link rel="stylesheet" type="text/css" href="/libs/animate/animate.min.css">
    <link rel="stylesheet" type="text/css" href="/libs/lightGallery/css/lightgallery.min.css">
    <link rel="stylesheet" type="text/css" href="/css/matery.css">
    <link rel="stylesheet" type="text/css" href="/css/my.css">

    <script src="/libs/jquery/jquery-2.2.0.min.js"></script>
    
<link rel="stylesheet" href="/css/prism-tomorrow.css" type="text/css"></head>


<body>
    <header class="navbar-fixed">
    <nav id="headNav" class="bg-color nav-transparent">
        <div id="navContainer" class="nav-wrapper head-container">
            <div class="brand-logo">
                <a href="/" class="waves-effect waves-light">
                    
                    <img src="/medias/logo.png" class="logo-img" alt="LOGO">
                    
                    <span class="logo-span">你喜欢吃青椒么</span>
                </a>
            </div>
            

<a href="#" data-target="mobile-nav" class="sidenav-trigger button-collapse"><i class="fas fa-bars"></i></a>
<ul class="right nav-menu">
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/" class="waves-effect waves-light">
      
      <i class="fas fa-home" style="zoom: 0.6;"></i>
      
      <span>首页</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/categories" class="waves-effect waves-light">
      
      <i class="fas fa-bookmark" style="zoom: 0.6;"></i>
      
      <span>分类</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/tags" class="waves-effect waves-light">
      
      <i class="fas fa-tags" style="zoom: 0.6;"></i>
      
      <span>标签</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/archives" class="waves-effect waves-light">
      
      <i class="fas fa-archive" style="zoom: 0.6;"></i>
      
      <span>归档</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/about" class="waves-effect waves-light">
      
      <i class="fas fa-user-circle" style="zoom: 0.6;"></i>
      
      <span>关于</span>
    </a>
    
  </li>
  
  <li>
    <a href="#searchModal" class="modal-trigger waves-effect waves-light">
      <i id="searchIcon" class="fas fa-search" title="搜索" style="zoom: 0.85;"></i>
    </a>
  </li>
</ul>

<div id="mobile-nav" class="side-nav sidenav">

    <div class="mobile-head bg-color">
        
        <img src="/medias/logo.png" class="logo-img circle responsive-img">
        
        <div class="logo-name">你喜欢吃青椒么</div>
        <div class="logo-desc">
            
            Never really desperate, only the lost of the soul.
            
        </div>
    </div>

    

    <ul class="menu-list mobile-menu-list">
        
        <li class="m-nav-item">
	  
		<a href="/" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-home"></i>
			
			首页
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/categories" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-bookmark"></i>
			
			分类
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/tags" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-tags"></i>
			
			标签
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/archives" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-archive"></i>
			
			归档
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/about" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-user-circle"></i>
			
			关于
		</a>
          
        </li>
        
        
        <li><div class="divider"></div></li>
        <li>
            <a href="https://github.com/zhongjunhaoz" class="waves-effect waves-light" target="_blank">
                <i class="fab fa-github-square fa-fw"></i>Fork Me
            </a>
        </li>
        
    </ul>
</div>


        </div>

        
            <style>
    .nav-transparent .github-corner {
        display: none !important;
    }

    .github-corner {
        position: absolute;
        z-index: 10;
        top: 0;
        right: 0;
        border: 0;
        transform: scale(1.1);
    }

    .github-corner svg {
        color: #0f9d58;
        fill: #fff;
        height: 64px;
        width: 64px;
    }

    .github-corner:hover .octo-arm {
        animation: a 0.56s ease-in-out;
    }

    .github-corner .octo-arm {
        animation: none;
    }

    @keyframes a {
        0%,
        to {
            transform: rotate(0);
        }
        20%,
        60% {
            transform: rotate(-25deg);
        }
        40%,
        80% {
            transform: rotate(10deg);
        }
    }
</style>

<a href="https://github.com/zhongjunhaoz" class="github-corner tooltipped hide-on-med-and-down" target="_blank"
   data-tooltip="Fork Me" data-position="left" data-delay="50">
    <svg viewBox="0 0 250 250" aria-hidden="true">
        <path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"></path>
        <path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2"
              fill="currentColor" style="transform-origin: 130px 106px;" class="octo-arm"></path>
        <path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z"
              fill="currentColor" class="octo-body"></path>
    </svg>
</a>
        
    </nav>

</header>

    



<div class="bg-cover pd-header post-cover" style="background-image: url('/medias/featureimages/14.jpg')">
    <div class="container" style="right: 0px;left: 0px;">
        <div class="row">
            <div class="col s12 m12 l12">
                <div class="brand">
                    <div class="description center-align post-title">
                        应用层 - 重学计算机网络系列(2)
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>




<main class="post-container content">

    
    <link rel="stylesheet" href="/libs/tocbot/tocbot.css">
<style>
    #articleContent h1::before,
    #articleContent h2::before,
    #articleContent h3::before,
    #articleContent h4::before,
    #articleContent h5::before,
    #articleContent h6::before {
        display: block;
        content: " ";
        height: 100px;
        margin-top: -100px;
        visibility: hidden;
    }

    #articleContent :focus {
        outline: none;
    }

    .toc-fixed {
        position: fixed;
        top: 64px;
    }

    .toc-widget {
        padding-left: 20px;
    }

    .toc-widget .toc-title {
        margin: 35px 0 15px 0;
        padding-left: 17px;
        font-size: 1.5rem;
        font-weight: bold;
        line-height: 1.5rem;
    }

    .toc-widget ol {
        padding: 0;
        list-style: none;
    }

    #toc-content ol {
        padding-left: 10px;
    }

    #toc-content ol li {
        padding-left: 10px;
    }

    #toc-content .toc-link:hover {
        color: #42b983;
        font-weight: 700;
        text-decoration: underline;
    }

    #toc-content .toc-link::before {
        background-color: transparent;
        max-height: 25px;
    }

    #toc-content .is-active-link {
        color: #42b983;
    }

    #toc-content .is-active-link::before {
        background-color: #42b983;
    }

    #floating-toc-btn {
        position: fixed;
        right: 15px;
        bottom: 76px;
        padding-top: 15px;
        margin-bottom: 0;
        z-index: 998;
    }

    #floating-toc-btn .btn-floating {
        width: 48px;
        height: 48px;
    }

    #floating-toc-btn .btn-floating i {
        line-height: 48px;
        font-size: 1.4rem;
    }
</style>
<div class="row">
    <div id="main-content" class="col s12 m12 l9">
        <!-- 文章内容详情 -->
<div id="artDetail">
    <div class="card">
        <div class="card-content article-info">
            <div class="row tag-cate">
                <div class="col s7">
                    
                    <div class="article-tag">
                        
                            <a href="/tags/HTTP/">
                                <span class="chip bg-color">HTTP</span>
                            </a>
                        
                    </div>
                    
                </div>
                <div class="col s5 right-align">
                    
                    <div class="post-cate">
                        <i class="fas fa-bookmark fa-fw icon-category"></i>
                        
                            <a href="/categories/%E5%89%8D%E7%AB%AF/" class="post-category">
                                前端
                            </a>
                        
                    </div>
                    
                </div>
            </div>

            <div class="post-info">
                <div class="post-date info-break-policy">
                    <i class="far fa-calendar-minus fa-fw"></i>发布日期:&nbsp;&nbsp;
                    2020-01-08
                </div>

                
                    
                    <div class="info-break-policy">
                        <i class="far fa-file-word fa-fw"></i>文章字数:&nbsp;&nbsp;
                        7.3k
                    </div>
                    

                    
                    <div class="info-break-policy">
                        <i class="far fa-clock fa-fw"></i>阅读时长:&nbsp;&nbsp;
                        25 分
                    </div>
                    
                
				
				
                    <div id="busuanzi_container_page_pv" class="info-break-policy">
                        <i class="far fa-eye fa-fw"></i>阅读次数:&nbsp;&nbsp;
                        <span id="busuanzi_value_page_pv"></span>
                    </div>
				
            </div>
        </div>
        <hr class="clearfix">
        <div class="card-content article-card-content">
            <div id="articleContent">
                <p><img src="https://user-gold-cdn.xitu.io/2019/12/27/16f46865b88d8984?w=1144&h=439&f=png&s=45298" alt=""></p>
<h1 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h1><ul>
<li>这是关于计算机网络的一系列专题，后续会不断更新。</li>
<li>学习资料来源于 <em>《计算机网络》(第七版) 和《图解HTTP》</em>。</li>
<li>本篇文章主要分享应用层下面的几个协议：<strong>DNS域名解析;FTP文件传输协议;DHCP动态主机配置协议;电子邮件的SMTP，POP3协议</strong>。</li>
<li>至于HTTP协议作为重中之重，会单独留篇幅来分享。</li>
</ul>
<h1 id="应用层"><a href="#应用层" class="headerlink" title="应用层"></a>应用层</h1><p>每个应用层协议都是为了解决<strong>某一类应用</strong>问题，而问题的解决又必须通过位于不同主机中的多个应用进程之间的<strong>通信和协同</strong>工作来完成。应用层的具体内容就是精确定义这些通信规则。具体来说，应用层协议应当定义：</p>
<ul>
<li>应用进程交换的报文类型，如请求报文和响应报文。</li>
<li>各种报文类型的语法，如报文中的各个字段以及详细描述。</li>
<li>字段的语义，即包含在字段中的信息的含义。</li>
<li>进程何时，如何发送报文，以及对报文进行响应的规则。</li>
</ul>
<h1 id="域名系统DNS"><a href="#域名系统DNS" class="headerlink" title="域名系统DNS"></a>域名系统DNS</h1><h2 id="概述"><a href="#概述" class="headerlink" title="概述"></a>概述</h2><h3 id="何为DNS？"><a href="#何为DNS？" class="headerlink" title="何为DNS？"></a>何为DNS？</h3><p>域名系统DNS是互联网使用的<strong>命名系统</strong>，用来把便于人们使用的机器名字装换为IP地址。域名系统就是名字系统。为什么不叫“名字”而叫“域名”呢？是因为在这种互联网的命名系统中使用了许多的“域”。</p>
<h3 id="为什么用户要用域名来访问？"><a href="#为什么用户要用域名来访问？" class="headerlink" title="为什么用户要用域名来访问？"></a>为什么用户要用域名来访问？</h3><p>用户与互联网上某台主机通信时，<strong>必须知道对方的IP地址</strong>。然而用户很难记住长达32位的二进制主机地址。域名系统DNS能够把互联网上的主机名字转换为IP地址。</p>
<h3 id="为什么机器在处理IP数据报时要使用IP地址而不使用域名呢？"><a href="#为什么机器在处理IP数据报时要使用IP地址而不使用域名呢？" class="headerlink" title="为什么机器在处理IP数据报时要使用IP地址而不使用域名呢？"></a>为什么机器在处理IP数据报时要使用IP地址而不使用域名呢？</h3><p>因为IP地址的长度是固定32位的（如果是IPv6，就是128位），但是域名却不是固定的，机器处理起来很难。</p>
<h3 id="DNS的结构"><a href="#DNS的结构" class="headerlink" title="DNS的结构"></a>DNS的结构</h3><p>互联网采用<strong>层次树状结构</strong>的命名方法，并使用<strong>分布式</strong>的域名系统DNS。</p>
<p>互联网的域名系统DNS被设计成为一个联机分布式数据库系统，并采用客户服务器方式。DNS让大多数名字都在本地进行解析，仅少量解析需要在互联网上通信，因此NDS系统<strong>效率</strong>很高。由于DNS是分布式系统，即便单个计算机出了故障，也不会妨碍整个DNS系统正常运行。</p>
<p>域名到IP地址的解析是由分布在互联网上的许多域名服务器程序共同完成的。域名服务器程序在专设的结点上运行，而人们也常把运行域名服务器程序的机器称为 <strong>域名服务器</strong>。</p>
<h3 id="解析过程"><a href="#解析过程" class="headerlink" title="解析过程"></a>解析过程</h3><p>过程如下：当一个应用程序需要把主机名解析为IP地址时，该应用进程就调用解析程序，并成为DNS的一个客户，把待解析的域名放在DNS请求报文中，以UDP用户数据报方式发给本地域名解析器，本地域名服务器查找后，就返回对应的IP地址。应用进程获得目的的IP地址后即可进行通信。若本地域名服务器无法解析，就向上一层的域名服务器上查找，直到找到。</p>
<h2 id="域名结构"><a href="#域名结构" class="headerlink" title="域名结构"></a>域名结构</h2><p>早期因为用户数少，用了非等级的名字空间。但是随着用户急剧增加，采用了层次树状结构的命名方法。</p>
<p>mail.cctv.com中 com 为顶级域名，cctv为二级域名,mail为三级域名。级别最低的写在最左边，而级别最高的顶级域名写在最右边。</p>
<p>DNS既不规定一个域名需要包含多少个下级域名，也不规定每一级的域名代表什么意思。各级域名由其上一级的域名管理机构管理，最顶级的域名由ICANN进行管理。用这种方法可以使每个域名在整个互联网范围内是唯一的，并且容易设计出一种查找域名的机制。</p>
<ul>
<li>通用顶级域名：com(公司企业) net(网络服务机构) org(非营利性组织) int(国际组织) edu(美国专用教育机构) gov(美国政府机构) mil(美国军事机构) 等等共有20个。</li>
<li>国家顶级域名： cn(中国)  us(美国) 等等</li>
<li>反向域名：arpa,用于反向解析</li>
</ul>
<p><img src="https://user-gold-cdn.xitu.io/2019/12/1/16ebf64cef01ada5?w=891&h=409&f=png&s=63696" alt="互联网域名空间"></p>
<h2 id="域名服务器"><a href="#域名服务器" class="headerlink" title="域名服务器"></a>域名服务器</h2><p>理论上，可以让每一级的域名都都有一个相对应的域名服务器，但是这样会造成服务器数量过多，效率降低。所以采用<strong>划分区</strong>的方法来解决这个问题。</p>
<p> 一个服务器所负责管辖的范围叫做<strong>区</strong>。每个区设置相对应的<strong>权限域名服务器</strong>，用来<strong>保存该区所有域名到IP地址的映射</strong>。</p>
<p> DNS服务器的管辖范围不是以域为单位，而是以区为单位。区是服务器实际管辖的范围，区可能等于或小于域，但一定不能大于域。一个域下面可能会有一个或多个区。</p>
<h3 id="域名服务器的分类"><a href="#域名服务器的分类" class="headerlink" title="域名服务器的分类"></a>域名服务器的分类</h3><ul>
<li>根域名服务器。最高层次，最重要的域名服务器。</li>
<li>顶级域名服务器。诸如com cn gov 这种的。</li>
<li>权限域名服务器。负责一个区的域名服务器。</li>
<li>本地域名服务器。当一台主机发出DNS查询请求，这个查询请求报文就发送给本地域名服务器。每个ISP，或一个大学都可以拥有一个本地域名服务器。本地域名服务器离用户较近，一般不超过几个路由器的距离。<em>当所要查询的主机也同属于同一个ISP时，该本地域名服务器立即就能把要查询的主机名转换为她的IP地址，而不需要去询问其他的域名服务器。</em></li>
</ul>
<h3 id="辅助域名服务器"><a href="#辅助域名服务器" class="headerlink" title="辅助域名服务器"></a>辅助域名服务器</h3><p>为了提高域名服务器的可靠性，DNS域名服务器都把数据复制到几个域名服务器来保存，其中<strong>一个是主域名服务器，其他的是辅助域名服务器</strong>。当主域名服服务器出现故障，辅助域名服务器可以确保工作不会中段。</p>
<h2 id="域名查询的两种方式"><a href="#域名查询的两种方式" class="headerlink" title="域名查询的两种方式"></a>域名查询的两种方式</h2><ul>
<li><p>递归查询</p>
<p>  假如主机A想访问主机B。主机A输入B的域名后，先是到本地域名服务器查询，查询不到，本地域名服务器以DNS客户的身份代表主机A去访问根域名服务器，若还是查询不到，根域名服务器如法炮制去到下面一级的顶级域名服务器查询，直到拿到主机B的IP地址。然后原路返回，给主机A。</p>
</li>
<li><p>迭代查询</p>
<p>  当根域名服务器收到本地域名服务器发出的请求报文时，要么给出IP地址，要么告诉本地域名服务器“下一步应该向哪一个域名服务器进行查询”，直到有域名服务器给出IP地址。</p>
</li>
</ul>
<p><strong>注意：主机向本地域名服务器查询一般采用递归查询。本地域名服务器向根域名服务器查询通常采用迭代查询。</strong></p>
<h2 id="高速缓存"><a href="#高速缓存" class="headerlink" title="高速缓存"></a>高速缓存</h2><ul>
<li>为了提高DNS查询效率，并减轻根域名服务器的负荷和减少互联网上的DNS查询报文数量，在<strong>域名系统服务器</strong>中广泛使用了高速缓存。高速缓存用来存放<strong>最近查询过的域名</strong>以及从何处获得域名映射信息的记录。</li>
<li>许多主机在启动时从本地域名服务器下载名字和地址的全部数据库，维护存放自己最近使用的域名的高速缓存，并且在缓存中找不到名字时才使用域名服务器。</li>
</ul>
<h2 id="总结DNS解析全过程"><a href="#总结DNS解析全过程" class="headerlink" title="总结DNS解析全过程"></a>总结DNS解析全过程</h2><ol>
<li>浏览器输入一个地址，按下回车。</li>
<li>如果地址的信息未写完整，(完整的格式应该是这样：<a href="http://www.baidu.com::8080),那么现在的浏览器会自动帮你补齐协议号和端口号。" target="_blank" rel="noopener">http://www.baidu.com::8080),那么现在的浏览器会自动帮你补齐协议号和端口号。</a></li>
<li>浏览器得到完整地址会开始解析，获取改地址的协议，各级域名，端口，路径。</li>
<li>比对存储在本地的<strong>高速缓存</strong>，如果有，就直接得到IP地址了。</li>
<li>如果没有，则向<strong>本地域名服务器</strong>发出查询请求。（递归查询）</li>
<li>如果本地域名服务器没有，那么本地域名服务器会直接向<strong>根域名服务器</strong>（最顶层）发出查询请求。此时，根域名服务器要么给出IP地址，要么告诉本地域名服务器“下一步应该向哪一个域名服务器进行查询”，直到给出IP地址。（迭代查询）</li>
</ol>
<h1 id="文件传输协议FTP"><a href="#文件传输协议FTP" class="headerlink" title="文件传输协议FTP"></a>文件传输协议FTP</h1><p>文件传送协议FTP是互联网上使用最广泛的文件传送协议。</p>
<ul>
<li>FTP提供交互式的访问</li>
<li>允许客户指明文件的类型与格式</li>
<li>允许文件具有存取权限（访问文件的用户必须经过授权，并输入有效的口令）</li>
<li>FTP屏蔽了个各计算机系统的系统的细节，因而适合于在异构网络中任意计算机之间传送文件。</li>
</ul>
<h2 id="特点"><a href="#特点" class="headerlink" title="特点"></a>特点</h2><ul>
<li>基于TCP的FTP和基于UDP的简单文件传送协议TFTP，它们都是文件共享协议中的一大类，即<strong>复制整个文件</strong>。若要存取一个文件，就必须先获得一个本地的文件副本。如果要修改文件只能对文件的副本进行修改，然后再将修改后的文件副本传回到原节点。</li>
<li>联机访问。允许多个程序同时对一个文件进行存取。</li>
</ul>
<h2 id="FTP基本工作原理"><a href="#FTP基本工作原理" class="headerlink" title="FTP基本工作原理"></a>FTP基本工作原理</h2><p><strong>两台主机之间传送文件看似是很简单，往往十分困难。</strong></p>
<p>原因是众多的计算机厂商研制出的文件系统多达数百种，且差别很大。</p>
<p>经常遇到的问题是：  </p>
<ol>
<li>计算机存储数据的格式不同。</li>
<li>文件的目录结构和文件命名的规定不同。</li>
<li>对于相同的文件存取功能，操作系统使用的命令不同。</li>
<li>访问控制方法不同。</li>
</ol>
<p>文件传送协议FTP只提供文件传送的一些基本的服务，主要功能是<strong>减少或消除在不同操作系统下处理文件的不兼容性</strong>。</p>
<p>FTP协议分客户端和服务端。一个FTP服务端可以为多个客户端提供服务。</p>
<p>服务端分两类：主进程，从属进程。主进程负责接受新请求，若干个从属进程负责处理单个进程。</p>
<p>客户端和服务端都有两个从属进程：<strong>控制进程和数据传送进程</strong>。<br>控制连接会在整个会话期间一直保持打开。<br>数据连接用来传输文件，传输完成就关闭数据传送连接。</p>
<h3 id="FTP文件传输过程总结"><a href="#FTP文件传输过程总结" class="headerlink" title="FTP文件传输过程总结"></a>FTP文件传输过程总结</h3><ul>
<li>客户端发送请求，服务端提供文件。</li>
<li>客户端和服务端都有两个从属进程：<strong>控制进程和数据传送进程</strong>。 </li>
<li>控制进程会在整个会话期间一直保持打开，表示一直在连接，有点像电路交换。</li>
<li>数据连接用来传输文件，传输完成就关闭数据传送连接。</li>
</ul>
<h2 id="TFTP简单文件传送协议"><a href="#TFTP简单文件传送协议" class="headerlink" title="TFTP简单文件传送协议"></a>TFTP简单文件传送协议</h2><p>它是一个很小且易于实现的文件传送协议。</p>
<p><strong>优点：使用UDP数据报。TFTP代码所占的内存较小。</strong></p>
<p>TFTP只支持文件传输而不支持交互。</p>
<p>发的一方：发完数据后在规定时间内收不到确认就要重复发送数据PDU。</p>
<h2 id="FTP下载文件-通过浏览器方式"><a href="#FTP下载文件-通过浏览器方式" class="headerlink" title="FTP下载文件(通过浏览器方式)"></a>FTP下载文件(通过浏览器方式)</h2><ol>
<li>输入地址：协议+主机号。所以是”<a href="ftp://127.0.0.1&quot;" target="_blank" rel="noopener">ftp://127.0.0.1&quot;</a> 这种形式的。</li>
<li>接着会让你登录自己主机的用户名和密码。</li>
<li>接着进入FTP服务器，选择要下载的文件，保存就可以了。</li>
<li>用FTP协议下载文件时，自己的浏览器要打开（FTP客户端），同时FTP服务端也会打开让客户端去下载。</li>
</ol>
<h1 id="电子邮件"><a href="#电子邮件" class="headerlink" title="电子邮件"></a>电子邮件</h1><h2 id="概述-1"><a href="#概述-1" class="headerlink" title="概述"></a>概述</h2><p>1982年，ARPANET的电子邮件问世。</p>
<p>电子邮件最重要的两个标准是：<strong>简单邮件传送协议SMTP和互联网文本报文格式[RFC 5322]</strong>。</p>
<p>由于互联网的SMTP只能传送可打印的7位ASCII码邮件，因此1993年提出<strong>通用互联网邮件扩充MIME</strong>。MIME在邮件首部中说明了邮件的数据类型（文本，声音，图像等）。在MIME邮件中可同时传送多种类型的数据。</p>
<h2 id="电子邮件系统构成"><a href="#电子邮件系统构成" class="headerlink" title="电子邮件系统构成"></a>电子邮件系统构成</h2><p>一个电子邮件系统应由三个主要组成构建：用户代理，邮件服务器，邮件发送协议和邮件读取协议（如POP3）。</p>
<p><img src="https://user-gold-cdn.xitu.io/2019/12/1/16ebf94a88e8c17a?w=929&h=568&f=jpeg&s=80662" alt="电子邮件的最主要的组成构建"></p>
<blockquote>
<p>发件人用户代理(SMTP客户) -&gt; 发送邮件SMTP -&gt; 发送方邮件服务器(SMTP服务器，SMTP客户) -&gt; 发送邮件SMTP -&gt; 接收方邮件服务器(SMTP服务器，POP3服务器) -&gt; 读取邮件POP3 -&gt; 收件人用户代理(POP3客户) </p>
</blockquote>
<h3 id="用户代理"><a href="#用户代理" class="headerlink" title="用户代理"></a>用户代理</h3><p>用户代理UA就是用户与电子邮件系统的接口，在大多数情况下它就是运行在用户电脑中的<strong>一个程序</strong>。因此用户代理又称为电子邮件客户端软件。用户代理提供一个很友好的接口（主要是窗口界面）来发送和接收邮件。微软的<strong>outlook</strong>和张小龙的<strong>Foxmail</strong>都是很受欢迎的电子邮件用户代理。</p>
<h3 id="邮件服务器"><a href="#邮件服务器" class="headerlink" title="邮件服务器"></a>邮件服务器</h3><p>互联网上有许多邮箱服务器可供用户选择。邮件服务器24小时不间断的工作，并且具有很大容量的邮件信箱。</p>
<p>邮件服务器的功能是发送和接收邮件，同时还要向发件人报告邮件传送的结果（已发送，已拒绝，丢失等）。</p>
<p>邮件服务器需使用两种不同的协议：SMTP用于传送邮件；POP3用于用户代理从邮件服务器读取邮件。</p>
<p>邮件服务器即是客户端，也是服务器。A服务器向B服务器发送邮件，A就是SMTP客户，B是SMTP服务器；反之亦然。</p>
<p>TCP/IP 体系的电子邮箱系统规定电子邮箱地址的格式如下： 用户名 @ 邮件服务器的域名。</p>
<h3 id="SMTP简单邮件传送协议"><a href="#SMTP简单邮件传送协议" class="headerlink" title="SMTP简单邮件传送协议"></a>SMTP简单邮件传送协议</h3><p>SMTP规定了在两个相互通信的SMTP进程之间应如何交换信息。至于邮件内容格式，邮件如何存储，以及邮件系统应以多快的速度来发送邮件，SMTP未做规定。<br><strong>SMTP通信三个阶段：建立连接 -&gt; 邮件传送 -&gt; 连接释放</strong>。具体内容就不展开了。</p>
<h3 id="POP3邮件读取协议"><a href="#POP3邮件读取协议" class="headerlink" title="POP3邮件读取协议"></a>POP3邮件读取协议</h3><p>邮局协议POP是一个非常简单，但功能有限的邮件读取协议，经过几次更新，现在使用的是1996年版本POP3，它已经成为互联网的正式标准。<br>另外一个邮件读取协议是IMAP。</p>
<blockquote>
<p><strong>最后在强调一下，不要把邮件读取协议POP3或IMAP与邮件传输协议SMTP弄混。发件人的用户代理向发送方邮件服务器发送邮件，以及发送方邮件服务器向接收方邮件服务器发送邮件，都是使用SMTP协议。只有用户代理从接收方邮件服务器上读取邮件才使用POP3。</strong></p>
</blockquote>
<h1 id="动态主机配置协议DHCP"><a href="#动态主机配置协议DHCP" class="headerlink" title="动态主机配置协议DHCP"></a>动态主机配置协议DHCP</h1><h2 id="背景"><a href="#背景" class="headerlink" title="背景"></a>背景</h2><p>连接到互联网的计算机的协议软件需要配置的项目包括：</p>
<ul>
<li>IP地址</li>
<li>子网掩码</li>
<li>默认路由器的IP地址</li>
<li>域名服务器的IP地址</li>
</ul>
<p>为了省去给计算机配置IP地址的麻烦，<br>能否在计算机的生产过程中，事先给一台计算机配置好一个唯一的IP地址。（如同每一个以太网适配器拥有一个唯一的硬件的地址）</p>
<blockquote>
<p>为什么上个网要这么麻烦？能不被一次性配置好然后永远都可以上网了。</p>
</blockquote>
<p><strong>这显然是不行的。这是因为IP地址不仅包括了主机号，而且还包括了网络号。</strong></p>
<p>一个IP地址指出了一台计算机连接在哪一个网络上。当计算机还在生产时，无法知道它在出厂后将被连接在哪一个网络上。因此，需要连接到互联网的计算机，必须对IP地址等项目进行协议配置。</p>
<blockquote>
<p>可以人工配置吗？</p>
</blockquote>
<p>用人工进行配置很不方便，且容易出错。</p>
<h2 id="动态IP"><a href="#动态IP" class="headerlink" title="动态IP"></a>动态IP</h2><p>动态IP指的是在需要的时候才进行IP地址分配的方式。所谓动态就是指当你每一次上网时，电信会随机分配一个IP地址。</p>
<p>由于IP地址资源很宝贵，因此大部分用户上网都是使用动态IP地址的，比如通过Modem、ISDN、ADSL、有线宽频、小区宽频等方式上网的计算机，都是在每次上网的时候临时分配一个IP地址。</p>
<p>IP地址是一个32位二进制数的地址，理论上讲, 有大约40亿(2 的32次方)个可能的地址组合，这似乎是一个很大的地址空间。实际上，根据网络ID和主机ID的不同位数规则，可以将IP地址分为A (7 位网络ID和24位主机ID)、B (14位网络ID和16位主机ID)、C (21位网络ID和8 位主机ID)三类，由于历史原因和技术发展的差异，A 类地址和B 类地址几乎分配殆尽，能够供全球各国各组织分配的只有C 类地址。所以说IP地址是一种非常重要的网络资源。</p>
<p>对于一个设立了因特网服务的组织机构，由于其主机对外开放了诸如<strong>WWW 、FTP 、E-mail等访问服务，通常要对外公布一个固定的IP地址，以方便用户访问</strong>。当然，数字IP不便记忆和识别，人们更习惯于通过域名来访问主机，而域名实际上仍然需要被域名服务器(DNS )翻译为IP地址。例如，你的主页地址，用户可以方便地记忆和使用，而域名服务器会将这个域名翻译为101.12.123.234，这才是你在网上的真正地址。</p>
<p>而对于大多数拨号上网的用户，由于其上网时间和空间的离散性，为每个用户分配一个固定的IP地址(静态IP)是非常不可取的，这将造成IP地址资源的极大浪费。因此这些用户通常会在每次拨通ISP 的主机后，自动获得一个动态的IP地址，该地址当然不是任意的，而是该ISP 申请的网络ID和主机ID的合法区间中的某个地址。拨号用户任意两次连接时的IP地址很可能不同，但是在每次连接时间内IP地址不变。</p>
<h2 id="静态IP"><a href="#静态IP" class="headerlink" title="静态IP"></a>静态IP</h2><p>静态IP地址（又称固定IP地址）是长期分配给一台计算机或网络设备使用的 IP 地址。一般来说，一般是特殊的服务器或者采用专线上网的计算机才拥有固定的 IP 地址而且需要比较昂贵的费用。</p>
<p>静态IP是可以直接上网的IP段，该IP在ISP装机时会划分一个IP地址给你，让计算机在连接网络时不再自动获取网络地址，避免了网络连接上的困扰，宽带运营商会提供一根一个IP地址、子网掩码、网关和DNS服务器地址给用户。<strong>在未使用路由器的情况下，只需要把这根入户网线连接到电脑上，并且手动设置电脑上的IP地址，这样电脑才能上网</strong>。静态IP地址不会改变，并且主要用于互联网上的网站应用或服务。一些游戏者和使用VOIP的人往往也倾向于选择静态IP地址，因为沟通更容易。</p>
<p>动态IP地址和静态IP地址相对。其一：为了节省lP资源，通过电话拨号、ADSL虚拟拨号等方式上网的机器是不分配固定IP地址的。而是由ISP动态临时分配，提高lP地址利用率；其二：在局域网中为了客户机设置简便，也常采用动态分配IP地址，这意味着您每次连接互联网时得到的lP地址是不同的。尽管这不影响您访问互联网，但是您的朋友、用户却不能访问到您。因为，他们不知道您的计算机在哪里。这就像每个人都有一部电话，但您的电话号码天天都在改变。</p>
<p><strong>之所以出现了静态IP和动态IP，是因为IP地址不够用。现在需要上网的人太多了，但是现有的技术条件满足不了所有人同时上网。</strong></p>
<h2 id="DHCP"><a href="#DHCP" class="headerlink" title="DHCP"></a>DHCP</h2><p>DHCP（动态主机配置协议）是一个局域网的网络协议。指的是由服务器控制一段lP地址范围，客户机登录服务器时就可以自动获得服务器分配的lP地址和子网掩码。默认情况下，DHCP作为Windows Server的一个服务组件不会被系统自动安装，还需要管理员手动安装并进行必要的配置。</p>
<p>它提供一种机制，称为<strong>即插即用连网</strong>。这种机制允许一台计算机加入新的网络和获取IP地址而不用手工参与。</p>
<h3 id="主机连网过程"><a href="#主机连网过程" class="headerlink" title="主机连网过程"></a>主机连网过程</h3><p>我们知道要上网的话，主机必须要有IP地址可以。</p>
<p>需要IP地址的主机在启动时就向DHCP服务器广播发送<strong>发现报文（将目的IP设置为全1，即255.255.255.255）</strong>。这时，该主机就成为了DHCP客户。</p>
<p>发送广播报文是因为现在还不知道DHCP服务器在什么地方，所以才要发送发现报文。<br>这台主机因为还没有IP地址，所以将IP数据报的源IP地址设置为全0.这样在本地网络上的所有主机都能接收到这个广播报文，<strong>但只有DHCP服务器才对这广播进行应答</strong>：DHCP服务器先在其数据库中查找该计算机的配置信息，若找到，则返回找到的信息。若找不到，则从服务器的<strong>IP地址池</strong>中取一个地址分配给该计算机。DHCP服务器的回答报文叫做提供报文，表示提供了IP地址等配置信息。</p>
<p>但是，我们并不愿意在每个网络上都设置一个DHCP服务器，这样会使DHCP服务器的数量太多。<br>因此现在是使每个网络至少有一个<strong>DHCP中继代理（通常是一台路由器）</strong>，它配置了DHCP服务器的IP地址信息。当中继代理收到主机A的发现报文后，就以单播方式向DHCP服务器转发此报文，并等待其回答。收到DHCP服务器回答后，中继代理再把此提供报文发回主机A。</p>
<p>DHCP服务器分配给DHCP客户的IP地址是临时的，因此DHCP客户只能在<strong>一段时间</strong>内使用这个分配到的IP地址。<br>DHCP协议称之为租用期，但并未规定租用期应取为多长或至少为多长，这个数值应由DHCP服务器自己决定。</p>
<h3 id="简单总结"><a href="#简单总结" class="headerlink" title="简单总结"></a>简单总结</h3><ul>
<li>请求租约 </li>
<li>提供租约 （所有收到请求报文的DHCP服务器都会回应）</li>
<li>选择IP租约 （可能多个DHCP服务器都会收到发现报文，所以才要选择）</li>
<li>确认IP租约 （DHCP服务器发送确认报文）</li>
<li>时间过一半，更新租用期</li>
<li>若DHCP服务器不同意，停止使用原IP，客户需要重新发送发现报文。</li>
</ul>
<p>DHCP很适合于经常移动位置的计算机。在Windows系统下，控制面板/网络，找到某个连接中的网络下面的菜单，找到TCP/IP协议后，<br>点击属性按钮，若选择自动获得IP地址和自动获得DNS服务器地址，就表示的是使用DHCP协议。</p>
<h1 id="P2P应用"><a href="#P2P应用" class="headerlink" title="P2P应用"></a>P2P应用</h1><h2 id="概述-2"><a href="#概述-2" class="headerlink" title="概述"></a>概述</h2><p>P2P应用就是指具有P2P体系结构的网络应用，没有固定的服务器，而绝大部分的交互都是使用对等方式（P2P方式）进行的。</p>
<p>P2P文件分发不需要使用集中式的媒体服务器，而所有的音频/视频文件都是在普通的互联网用户之间传输的。</p>
<p>这其实是相当于有很多分散在各地的媒体服务器（由普通用户的计算机充当这种媒体服务器）向其他用户提供所要下载的音频/视频文件。</p>
<p>这种P2P文件分发方式解决了集中式媒体服务器可能出现的瓶颈问题。</p>
<h2 id="具有集中目录服务器的P2P工作方式"><a href="#具有集中目录服务器的P2P工作方式" class="headerlink" title="具有集中目录服务器的P2P工作方式"></a>具有集中目录服务器的P2P工作方式</h2><p>最早使用P2P工作方式的是Napster（1999年美国一个大学生写的软件）。利用这个软件可以免费下载各种MP3音乐。</p>
<p>Napster的出现使MP3成为网络音乐事实的标准。</p>
<p>Napster能够搜索音乐文件，能够提供检索功能。所有音乐文件的索引信息都集中存放在Napster目录服务器中，这个服务器起索引功能，使用者只要查找目录服务器，就可以知道应从何处下载MP3文件。</p>
<h3 id="Napster的工作原理"><a href="#Napster的工作原理" class="headerlink" title="Napster的工作原理"></a>Napster的工作原理</h3><ol>
<li>运行Napster的所有用户，都必须及时向Napster的目录服务器报告自己已经存有哪些音乐文件。</li>
<li>Napster目录服务器就用这些用户信息建立起一个动态数据库，集中存储了所有用户的音乐文件信息（即对象名和向对应的IP地址）。</li>
<li>当某个用户想下载某个MP3文件时，就向目录服务器发出查询（这个过程依然是传统的客户-服务器方式），目录检索出结果之后向用户返回存放这一文件的计算机IP地址，于是这个用户就可以从中选取一个地址下载想要得到的MP3文件（这个下载过程就是P2P方式）。</li>
<li>可以看出，Napster的文件传输是分散的（P2P方式）,但文件的定位是集中的(客户-服务器方式)</li>
</ol>
<blockquote>
<p>Napster网站于2000年被迫关闭，罪名：间接侵害版权。</p>
</blockquote>
<h2 id="具有全分布式结构的P2P文件共享程序"><a href="#具有全分布式结构的P2P文件共享程序" class="headerlink" title="具有全分布式结构的P2P文件共享程序"></a>具有全分布式结构的P2P文件共享程序</h2><p>第一代P2P文件共享软件Napster关闭之后，开始出现了以Gnutella为代表的第二代P2P文件共享软件。</p>
<p>G与N最大的区别在于不使用集中式的目录服务器进行查询，而是使用<strong>洪范法</strong>在大量G用户之间进行查询。</p>
<p>为了更加有效的在大量用户之间使用P2P技术下载共享文件，最近几年已经开发出很多P2P文件共享程序，他们使用分散定位和分散传输技术。<strong>如KaZaA,电骡eMulw,比特洪流BT</strong>等。</p>
<h3 id="BT工作原理"><a href="#BT工作原理" class="headerlink" title="BT工作原理"></a>BT工作原理</h3><p>BT把从<strong>对等方</strong>下载文件的数据单元称为文件块，一个文件块的长度是固定不变的。</p>
<p>假如一个用户要获取一个文件，（这个用户称之为对等方），一开始它并没有文件块，但新的对等方加入可能使他拥有了一些文件块，并且可以为其他对等方提供数据块。在用户陆续获得多个文件块之后，就可以凑成一整个文件。获取到完整的文件之后，可以选择退出BT（相当于自私的用户），也可以继续留在BT（相当于无私的用户）。可以随时加入或退出，即便某个文件还未完全下载完成，可以以后再加入BT把剩下的文件块再下载完成。</p>
<p><strong>因此，从不同的对等方获得不同的数据块，然后组装成整个文件，一般要比仅从一个地方下载整个文件要快很多。</strong></p>
<p>至于BT解决的问题：如何准确定位找到所需的文件块？若有多个请求，我先给谁？或者先给哪一个文件块？这个就不展开仔细讲了。</p>
<h3 id="下一篇讲HTTP协议。如果对你有帮助，麻烦点赞加关注哦！"><a href="#下一篇讲HTTP协议。如果对你有帮助，麻烦点赞加关注哦！" class="headerlink" title="下一篇讲HTTP协议。如果对你有帮助，麻烦点赞加关注哦！"></a>下一篇讲HTTP协议。如果对你有帮助，麻烦点赞加关注哦！</h3>
            </div>
            <hr/>

            



            <div class="tag_share" style="display: block;">
                <div class="post-meta__tag-list" style="display: inline-block;">
                    
                        <div class="article-tag">
                            
                                <a href="/tags/HTTP/">
                                    <span class="chip bg-color">HTTP</span>
                                </a>
                            
                        </div>
                    
                </div>
                <div class="post_share" style="zoom: 80%; width: fit-content; display: inline-block; float: right; margin: -0.15rem 0;">
                    <link rel="stylesheet" type="text/css" href="/libs/share/css/share.min.css">

<div id="article-share">
    
    
    <div class="social-share" data-sites="qq,qzone,wechat,weibo,douban" data-wechat-qrcode-helper="<p>微信扫一扫即可分享！</p>"></div>
    <script src="/libs/share/js/social-share.min.js"></script>
    

    

</div>

                </div>
            </div>
            
                <style>
    #reward {
        margin: 40px 0;
        text-align: center;
    }

    #reward .reward-link {
        font-size: 1.4rem;
        line-height: 38px;
    }

    #reward .btn-floating:hover {
        box-shadow: 0 6px 12px rgba(0, 0, 0, 0.2), 0 5px 15px rgba(0, 0, 0, 0.2);
    }

    #rewardModal {
        width: 320px;
        height: 350px;
    }

    #rewardModal .reward-title {
        margin: 15px auto;
        padding-bottom: 5px;
    }

    #rewardModal .modal-content {
        padding: 10px;
    }

    #rewardModal .close {
        position: absolute;
        right: 15px;
        top: 15px;
        color: rgba(0, 0, 0, 0.5);
        font-size: 1.3rem;
        line-height: 20px;
        cursor: pointer;
    }

    #rewardModal .close:hover {
        color: #ef5350;
        transform: scale(1.3);
        -moz-transform:scale(1.3);
        -webkit-transform:scale(1.3);
        -o-transform:scale(1.3);
    }

    #rewardModal .reward-tabs {
        margin: 0 auto;
        width: 210px;
    }

    .reward-tabs .tabs {
        height: 38px;
        margin: 10px auto;
        padding-left: 0;
    }

    .reward-content ul {
        padding-left: 0 !important;
    }

    .reward-tabs .tabs .tab {
        height: 38px;
        line-height: 38px;
    }

    .reward-tabs .tab a {
        color: #fff;
        background-color: #ccc;
    }

    .reward-tabs .tab a:hover {
        background-color: #ccc;
        color: #fff;
    }

    .reward-tabs .wechat-tab .active {
        color: #fff !important;
        background-color: #22AB38 !important;
    }

    .reward-tabs .alipay-tab .active {
        color: #fff !important;
        background-color: #019FE8 !important;
    }

    .reward-tabs .reward-img {
        width: 210px;
        height: 210px;
    }
</style>

<div id="reward">
    <a href="#rewardModal" class="reward-link modal-trigger btn-floating btn-medium waves-effect waves-light red">赏</a>

    <!-- Modal Structure -->
    <div id="rewardModal" class="modal">
        <div class="modal-content">
            <a class="close modal-close"><i class="fas fa-times"></i></a>
            <h4 class="reward-title">你的赏识是我前进的动力</h4>
            <div class="reward-content">
                <div class="reward-tabs">
                    <ul class="tabs row">
                        <li class="tab col s6 alipay-tab waves-effect waves-light"><a href="#alipay">支付宝</a></li>
                        <li class="tab col s6 wechat-tab waves-effect waves-light"><a href="#wechat">微 信</a></li>
                    </ul>
                    <div id="alipay">
                        <img src="/medias/reward/alipay.jpg" class="reward-img" alt="支付宝打赏二维码">
                    </div>
                    <div id="wechat">
                        <img src="/medias/reward/wechat.png" class="reward-img" alt="微信打赏二维码">
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<script>
    $(function () {
        $('.tabs').tabs();
    });
</script>

            
        </div>
    </div>

    

    

    

    

    

    

<article id="prenext-posts" class="prev-next articles">
    <div class="row article-row">
        
        <div class="article col s12 m6" data-aos="fade-up">
            <div class="article-badge left-badge text-color">
                <i class="fas fa-chevron-left"></i>&nbsp;上一篇</div>
            <div class="card">
                <a href="/2020/01/08/http-xie-yi-chong-xue-ji-suan-ji-wang-luo-xi-lie-3/">
                    <div class="card-image">
                        
                        
                        <img src="/medias/featureimages/0.jpg" class="responsive-img" alt="HTTP协议 - 重学计算机网络系列(3)">
                        
                        <span class="card-title">HTTP协议 - 重学计算机网络系列(3)</span>
                    </div>
                </a>
                <div class="card-content article-content">
                    <div class="summary block-with-text">
                        
                            WWW这一名称，是Web浏览器当年用来浏览超文本的客户端应用程序时的名称。现在则用来表示这一系列的集合，也可简称为Web。
                        
                    </div>
                    <div class="publish-info">
                        <span class="publish-date">
                            <i class="far fa-clock fa-fw icon-date"></i>2020-01-08
                        </span>
                        <span class="publish-author">
                            
                            <i class="fas fa-bookmark fa-fw icon-category"></i>
                            
                            <a href="/categories/%E5%89%8D%E7%AB%AF/" class="post-category">
                                    前端
                                </a>
                            
                            
                        </span>
                    </div>
                </div>
                
                <div class="card-action article-tags">
                    
                    <a href="/tags/HTTP/">
                        <span class="chip bg-color">HTTP</span>
                    </a>
                    
                </div>
                
            </div>
        </div>
        
        
        <div class="article col s12 m6" data-aos="fade-up">
            <div class="article-badge right-badge text-color">
                下一篇&nbsp;<i class="fas fa-chevron-right"></i>
            </div>
            <div class="card">
                <a href="/2020/01/08/cong-yuan-tou-shang-jie-jue-http-mian-shi-wen-ti-chong-xue-ji-suan-ji-wang-luo-xi-lie-1/">
                    <div class="card-image">
                        
                        
                        <img src="/medias/featureimages/12.jpg" class="responsive-img" alt="从源头上解决HTTP面试问题 - 重学计算机网络系列(1)">
                        
                        <span class="card-title">从源头上解决HTTP面试问题 - 重学计算机网络系列(1)</span>
                    </div>
                </a>
                <div class="card-content article-content">
                    <div class="summary block-with-text">
                        
                            因为是前端开发，所以我的重心是放在应用层，重中之重是应用层下面的HTTP协议。
                        
                    </div>
                    <div class="publish-info">
                            <span class="publish-date">
                                <i class="far fa-clock fa-fw icon-date"></i>2020-01-08
                            </span>
                        <span class="publish-author">
                            
                            <i class="fas fa-bookmark fa-fw icon-category"></i>
                            
                            <a href="/categories/%E5%89%8D%E7%AB%AF/" class="post-category">
                                    前端
                                </a>
                            
                            
                        </span>
                    </div>
                </div>
                
                <div class="card-action article-tags">
                    
                    <a href="/tags/HTTP/">
                        <span class="chip bg-color">HTTP</span>
                    </a>
                    
                </div>
                
            </div>
        </div>
        
    </div>
</article>

</div>



<!-- 代码块功能依赖 -->
<script type="text/javascript" src="/libs/codeBlock/codeBlockFuction.js"></script>

<!-- 代码语言 -->

<script type="text/javascript" src="/libs/codeBlock/codeLang.js"></script>

    
<!-- 代码块复制 -->

<script type="text/javascript" src="/libs/codeBlock/codeCopy.js"></script>


<!-- 代码块收缩 -->

<script type="text/javascript" src="/libs/codeBlock/codeShrink.js"></script>


<!-- 代码块折行 -->

<style type="text/css">
code[class*="language-"], pre[class*="language-"] { white-space: pre !important; }
</style>


    </div>
    <div id="toc-aside" class="expanded col l3 hide-on-med-and-down">
        <div class="toc-widget">
            <div class="toc-title"><i class="far fa-list-alt"></i>&nbsp;&nbsp;目录</div>
            <div id="toc-content"></div>
        </div>
    </div>
</div>

<!-- TOC 悬浮按钮. -->

<div id="floating-toc-btn" class="hide-on-med-and-down">
    <a class="btn-floating btn-large bg-color">
        <i class="fas fa-list-ul"></i>
    </a>
</div>


<script src="/libs/tocbot/tocbot.min.js"></script>
<script>
    $(function () {
        tocbot.init({
            tocSelector: '#toc-content',
            contentSelector: '#articleContent',
            headingsOffset: -($(window).height() * 0.4 - 45),
            // headingsOffset: -205,
            headingSelector: 'h2, h3, h4'
        });

        // modify the toc link href to support Chinese.
        let i = 0;
        let tocHeading = 'toc-heading-';
        $('#toc-content a').each(function () {
            $(this).attr('href', '#' + tocHeading + (++i));
        });

        // modify the heading title id to support Chinese.
        i = 0;
        $('#articleContent').children('h2, h3, h4').each(function () {
            $(this).attr('id', tocHeading + (++i));
        });

        // Set scroll toc fixed.
        let tocHeight = parseInt($(window).height() * 0.4 - 64);
        let $tocWidget = $('.toc-widget');
        $(window).scroll(function () {
            let scroll = $(window).scrollTop();
            /* add post toc fixed. */
            if (scroll > tocHeight) {
                $tocWidget.addClass('toc-fixed');
            } else {
                $tocWidget.removeClass('toc-fixed');
            }
        });

        
        /* 修复文章卡片 div 的宽度. */
        let fixPostCardWidth = function (srcId, targetId) {
            let srcDiv = $('#' + srcId);
            if (srcDiv.length === 0) {
                return;
            }

            let w = srcDiv.width();
            if (w >= 450) {
                w = w + 21;
            } else if (w >= 350 && w < 450) {
                w = w + 18;
            } else if (w >= 300 && w < 350) {
                w = w + 16;
            } else {
                w = w + 14;
            }
            $('#' + targetId).width(w);
        };

        // 切换TOC目录展开收缩的相关操作.
        const expandedClass = 'expanded';
        let $tocAside = $('#toc-aside');
        let $mainContent = $('#main-content');
        $('#floating-toc-btn .btn-floating').click(function () {
            if ($tocAside.hasClass(expandedClass)) {
                $tocAside.removeClass(expandedClass).slideUp(500);
                $mainContent.removeClass('l9');
            } else {
                $tocAside.addClass(expandedClass).slideDown(500);
                $mainContent.addClass('l9');
            }
            fixPostCardWidth('artDetail', 'prenext-posts');
        });
        
    });
</script>

    

</main>



    <footer class="page-footer bg-color">
    <div class="container row center-align">
        <div class="col s12 m12 l8 copy-right " >

            
                &nbsp;<i class="fa fa-area-chart"></i>&nbsp;站点总字数:&nbsp;
                <span class="white-color">53.4k</span>
            

            
			
                <br>
                
                <span id="busuanzi_container_site_pv">
                    本站总访问量 <span id="busuanzi_value_site_pv" class="white-color"></span>
                </span>
                
                
                <span id="busuanzi_container_site_uv">
                    次,&nbsp;访客数 <span id="busuanzi_value_site_uv" class="white-color"></span> 人
                </span>
                
            
        </div>
        <div class="col s12 m4 l4 social-link social-statis">
            <a href="https://github.com/zhongjunhaoz" class="tooltipped" target="_blank" data-tooltip="访问我的GitHub"
    data-position="top" data-delay="50">
    <i class="fab fa-github"></i>
</a>


<!-- <a href="mailto:2236241424@qq.com" class="tooltipped" target="_blank" data-tooltip="邮件联系我"
    data-position="top" data-delay="50">
    <i class="fas fa-envelope-open"></i>
</a> -->




<a href="tencent://AddContact/?fromId=50&fromSubId=1&subcmd=all&uin=2236241424" class="tooltipped"
    target="_blank" data-tooltip="QQ联系我:2236241424" data-position="top" data-delay="50">
    <i class="fab fa-qq"></i>
</a>



<!-- <a href="" class="tooltipped" target="_blank"
    data-tooltip="关注我的知乎: " data-position="top" data-delay="50">
    <i class="fab fa-zhihu1">知</i>
</a> -->
        </div>
    </div>
</footer>



    <!-- 搜索遮罩框 -->
<div id="searchModal" class="modal">
    <div class="modal-content">
        <div class="search-header">
            <span class="title"><i class="fas fa-search"></i>&nbsp;&nbsp;搜索</span>
            <input type="search" id="searchInput" name="s" placeholder="请输入搜索的关键字"
                   class="search-input">
        </div>
        <div id="searchResult"></div>
    </div>
</div>

<script src="/js/search.js"></script>
<script type="text/javascript">
$(function () {
    searchFunc("/" + "search.xml", 'searchInput', 'searchResult');
});
</script>
    <!-- 回到顶部按钮 -->
<div id="backTop" class="top-scroll">
    <a class="btn-floating btn-large waves-effect waves-light" href="#!">
        <i class="fas fa-arrow-up"></i>
    </a>
</div>


    <script src="/libs/materialize/materialize.min.js"></script>
    <script src="/libs/masonry/masonry.pkgd.min.js"></script>
    <script src="/libs/aos/aos.js"></script>
    <script src="/libs/scrollprogress/scrollProgress.min.js"></script>
    <script src="/libs/lightGallery/js/lightgallery-all.min.js"></script>
    <script src="/js/matery.js"></script>

    <!-- Global site tag (gtag.js) - Google Analytics -->


    <!-- Baidu Analytics -->


    <!-- Baidu Push -->

<script>
    (function () {
        var bp = document.createElement('script');
        var curProtocol = window.location.protocol.split(':')[0];
        if (curProtocol === 'https') {
            bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';
        } else {
            bp.src = 'http://push.zhanzhang.baidu.com/push.js';
        }
        var s = document.getElementsByTagName("script")[0];
        s.parentNode.insertBefore(bp, s);
    })();
</script>

    
    <script src="/libs/others/clicklove.js" async="async"></script>
    
    
    <script async src="/libs/others/busuanzi.pure.mini.js"></script>
    

    

    
    <script>
        (function (i, s, o, g, r, a, m) {
            i["DaoVoiceObject"] = r;
            i[r] = i[r] || function () {
                (i[r].q = i[r].q || []).push(arguments)
            }, i[r].l = 1 * new Date();
            a = s.createElement(o), m = s.getElementsByTagName(o)[0];
            a.async = 1;
            a.src = g;
            a.charset = "utf-8";
            m.parentNode.insertBefore(a, m)
        })(window, document, "script", ('https:' == document.location.protocol ? 'https:' : 'http:') +
            "//widget.daovoice.io/widget/6984b559.js", "daovoice")
        daovoice('init', {
            app_id: ""
        });
        daovoice('update');
    </script>
    

    

    

    
    <script type="text/javascript" src="/libs/background/ribbon-dynamic.js" async="async"></script>
    
    
    
    <script src="/libs/instantpage/instantpage.js" type="module"></script>
    

</body>

</html>
